<!DOCTYPE softlogger SYSTEM "softlogger.dtd">
<softlogger>
	<name>Test Logger</name>
	<defaultScanRate>11111</defaultScanRate> <!-- default scan rate in milliseconds -->
	<logInterval>222</logInterval> <!-- default interval to write to output file in seconds -->
	<lookupTableFilePath>lut</lookupTableFilePath>
	<outputFilePath>data</outputFilePath>
	<server>
		<user>logger1</user>
		<host>127.0.0.1</host>
		<port>2222</port>
		<password>fakePass01</password> <!-- or <keyfile> element -->
		<!--
		<keyfile>ssh/id_rsa</keyfile>
		-->
		<configPoll>3600</configPoll>
		<homeFolder>/home/logger1/data</homeFolder>
	</server>
	<channel>
		<defaultScanRate>333</defaultScanRate> <!-- default scan rate for this channel, overrides Softlogger scan rate -->
		<logInterval>44</logInterval> <!-- overrides softlogger -->
		<tcp>
			<host>127.0.0.1</host>
			<port>5020</port>
		</tcp>
		<!--
		<serial>
			<comport>COM4</comport>
			<baud>19200</baud>
		</serial>
		-->
		<device>
			<!-- devices can each have a scan rate as well, which overrides their channel
			and softlogger default scan rates.  Same thing for logInterval -->
			<unitId>15</unitId>
			<description>DSI #1</description>
			<defaultScanRate>1000</defaultScanRate>
			<logInterval>66</logInterval>
			
			<configRegister>
				<fieldName>Config coil 1 true</fieldName>
				<registerAddress>000001</registerAddress>
				<value>true</value>
			</configRegister>
			<configRegister>
				<fieldName>Config value 1</fieldName>
				<scanRate>333</scanRate>
				<registerAddress>400003</registerAddress>	<!-- Addresses can be of the form [0134][0-9]{4,5}.  The first digit indicates the type of register (input,output)*(coil,register). -->
				<size type="signed">2</size> <!-- size in words of the register. 2 and 4 are supported type=(s|u|f|)=(int|uint|float) -->
				<value>-5</value>	<!-- value for the config register, overwrite the device's register with this -->
			</configRegister>
			<dataRegister>
				<fieldName>Measurement 1</fieldName>
				<registerAddress>300001</registerAddress>
				<guid>D3M01</guid>
			</dataRegister>
			<dataRegister>
				<fieldName>Measurement 2</fieldName>
				<scanRate>500</scanRate>
				<registerAddress>300003</registerAddress>
				<size>2</size>
				<dataFunction type="lookupTable">LUT1.dat</dataFunction>
				<guid>D3M02</guid>
			</dataRegister>
			<dataRegister>
				<fieldName>Measurement 3</fieldName>
				<scanRate sampling="sum">250</scanRate>
				<registerAddress>300005</registerAddress>
				<size type="float">1</size>
				<guid>D3M03</guid>
			</dataRegister>
			<dataRegister>
				<fieldName>Measurement 4</fieldName>
				<scanRate>333</scanRate>
				<registerAddress>400005</registerAddress>
				<size type="float">2</size>
				<dataFunction type="expression">PI*$*1000/sqrt(E)</dataFunction>
				<guid>D3M04</guid>
			</dataRegister>
			<dataRegister>
				<fieldName>Measurement 5</fieldName>
				<scanRate sampling="sum">500</scanRate>
				<registerAddress>400007</registerAddress>
				<size type="float">2</size>
				<guid>D3M5</guid>
			</dataRegister>
			<dataRegister>
				<fieldName>Measurement 6</fieldName>
				<registerAddress>000001</registerAddress>
				<guid>D3M6</guid>
			</dataRegister>
			<dataRegister>
				<fieldName>Measurement 7</fieldName>
				<registerAddress>100001</registerAddress>
				<guid>D3M7</guid>
			</dataRegister>
			<dataRegister>
				<fieldName>Measurement 8</fieldName>
				<scanRate sampling="latest">500</scanRate>
				<registerAddress>400003</registerAddress>
				<size type="signed">2</size>
				<guid>D3M8</guid>
			</dataRegister>
		</device>
	</channel>
</softlogger>